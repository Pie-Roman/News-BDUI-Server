# News-BDUI-Server

[![Static Badge](https://img.shields.io/badge/divkit-orange)](https://github.com/divkit/divkit) ![Static Badge](https://img.shields.io/badge/spring-green)

## Описание проекта

News-BDUI-Server — это серверное приложение, реализующее концепцию Backend-driven UI (BDUI) для мобильных приложений по просмотру новостей. Сервер управляет не только данными, но и версткой и дизайном пользовательского интерфейса клиентских приложений, что позволяет обновлять UI в режиме реального времени без необходимости выпуска новых версий мобильных приложений.

## Связь с другими проектами

Данный проект является частью [исследования](https://www.hse.ru/ba/se/students/diplomas/924182125) по использованию Backend-driven UI совместно с Kotlin Multiplatform в мобильной разработке и связан со следующими проектами:

- [News-BDUI-Android](https://github.com/Pie-Roman/News-BDUI-Android): Android-приложение с использованием BDUI
- [News-BDUI-iOS](https://github.com/Pie-Roman/News-BDUI-Ios): iOS-приложение с использованием BDUI
- [News-BDUI-KMP](https://github.com/Pie-Roman/News-BDUI-KMP): Версия приложения с использованием Kotlin Multiplatform и BDUI

## Преимущества подхода BDUI на стороне сервера

- **Централизованное управление UI**: Изменения в интерфейсе вносятся в одном месте и сразу отражаются на всех клиентских платформах
- **Ускорение релизного цикла**: Нет необходимости проходить процесс публикации обновлений в App Store и Google Play
- **Снижение затрат на разработку**: Меньше дублирования кода между платформами
- **A/B тестирование**: Возможность быстро тестировать различные варианты UI на разных группах пользователей
- **Персонализация**: Возможность адаптировать UI под конкретного пользователя
- **Масштабируемость**: Легкое добавление поддержки новых платформ без изменения серверной логики

## Архитектура

Сервер построен с использованием классического MVC (Model-View-Controller) паттерна:

### Компоненты архитектуры:

1. **Model (Модель)**
   - Отвечает за бизнес-логику и данные
   - Взаимодействует с внешними API (NewsData.io)
   - Обрабатывает и подготавливает данные для отображения

2. **View (Представление)**
   - Формирует JSON-описание UI компонентов с использованием DivKit
   - Преобразует данные в формат, понятный клиентским приложениям

3. **Controller (Контроллер)**
   - Обрабатывает запросы от клиентских приложений
   - Координирует взаимодействие между Model и View
   - Управляет маршрутизацией запросов

## Функциональность

Сервер предоставляет следующие возможности:

1. **Формирование UI для экрана последних новостей**
   - Получение данных о последних новостях из API сервиса NewsData.io
   - Формирование JSON-описания UI для отображения списка новостей
   - Отправка готового UI-описания клиентским приложениям

2. **Формирование UI для экрана результатов поиска**
   - Получение поискового запроса от клиентского приложения
   - Выполнение поиска новостей через API сервиса NewsData.io
   - Формирование JSON-описания UI для отображения результатов поиска
   - Отправка готового UI-описания клиентским приложениям

3. **Кэширование данных**
   - Оптимизация запросов к внешним API
   - Снижение нагрузки на сервер и уменьшение времени отклика

## Технологии и библиотеки

- **Spring Framework**: Основной фреймворк для разработки серверного приложения
- **DivKit**: Библиотека для описания UI компонентов
- **Ktor**: Для организации клиент-серверного взаимодействия
- **Kotlin**: Основной язык программирования
- **Kotlinx Serialization**: Для сериализации/десериализации JSON
- **Kodein**: Для внедрения зависимостей

## Установка и запуск

1. Клонировать репозиторий:
```
git clone https://github.com/Pie-Roman/News-BDUI-Server.git
```

2. Перейти в директорию проекта:
```
cd News-BDUI-Server
```

3. Собрать проект:
```
./gradlew build
```

4. Запустить сервер:
```
./gradlew run
```

По умолчанию сервер запускается на порту 8080.

## API эндпоинты

### Получение последних новостей
```
GET /api/news/latest
```
Возвращает JSON-описание UI для отображения последних новостей.

### Поиск новостей
```
GET /api/news/search?query={searchQuery}
```
Принимает поисковый запрос и возвращает JSON-описание UI для отображения результатов поиска.

### Получение карточки новости
```
GET /api/news/card/{newsId}
```
Возвращает JSON-описание UI для отображения детальной информации о конкретной новости.

## Структура проекта

```
News-BDUI-Server/
├── src/
│   ├── main/
│   │   ├── kotlin/
│   │   │   ├── com/news/bdui/
│   │   │   │   ├── controllers/    # Контроллеры для обработки запросов
│   │   │   │   ├── models/         # Модели данных
│   │   │   │   ├── services/       # Сервисы для бизнес-логики
│   │   │   │   ├── views/          # Формирование UI-представлений
│   │   │   │   ├── config/         # Конфигурация приложения
│   │   │   │   └── Application.kt  # Точка входа в приложение
│   │   ├── resources/
│   │   │   ├── application.conf    # Конфигурационный файл
│   │   │   └── templates/          # Шаблоны UI-компонентов
│   ├── test/                       # Тесты
├── build.gradle                    # Конфигурация сборки
└── README.md                       # Документация
```
